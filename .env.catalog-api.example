# ~/work/asRP-python/.env.catalog-api.example
# Plantilla (sin secretos).
# Objetivo: issuer OIDC (OpenID Connect) estable para enterprise.

# --- App ---
APP_NAME=catalog-api
ENVIRONMENT=local
LOG_LEVEL=INFO
PYTHONUNBUFFERED=1

# --- DB (PostgreSQL - Postgres Structured Query Language) ---
# [SECURITY] Password en .env.catalog-api.secrets (ignorado por Git)
DB_HOST=catalog-db
DB_PORT=5432
DB_NAME=catalog_db
DB_USER=catalog_app

# OIDC (OpenID Connect) / JWT (JSON Web Token)
# --------------------------------------------------------------------
# Internal: lo que resuelve dentro de Docker (service DNS)
# [ENTERPRISE] Unificamos issuer para browser + docker usando hostname estable
KEYCLOAK_PUBLIC_BASE_URL=http://keycloak.localtest.me:8080
KEYCLOAK_INTERNAL_BASE_URL=http://keycloak.localtest.me:8080
KEYCLOAK_REALM=asrp
KEYCLOAK_CLIENT_ID=asrp-catalog

# [ENTERPRISE] Discovery completo (metadata)
OIDC_DISCOVERY_URL=http://keycloak.localtest.me:8080/realms/asrp/.well-known/openid-configuration

# [ENTERPRISE] Issuer estable (iss) que esperamos en tokens
OIDC_ISSUER_EXPECTED=http://keycloak.localtest.me:8080/realms/asrp

# Audiencia que tu API exige en el token (si tu validador exige aud)
OIDC_AUDIENCE=asrp-catalog

# Tolerancia de reloj (segundos)
OIDC_LEEWAY_SECONDS=10

# Algoritmos permitidos (RS256 = RSA Signature with SHA-256)
OIDC_ALGORITHMS=RS256
